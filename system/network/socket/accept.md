1. socket连接
说起socket编程，闹钟浮现的肯定是下面这张图：
```
+----------------------------------------+               +----------------------------------------+
|                client                  |               |                server                  |
|                                        |               |                                        |
|      +---	--------------------+        |               |      +---	--------------------+        |
|      | create a stream socket |        |               |      | create a stream socket |        |
|      |        socket()        |        |               |      |        socket()        |        |
|      +------------|-----------+        |               |      +------------|-----------+        |
|                   |                    |               |                   |                    |
|                   |                    |               |                   |                    |
|      +---	--------v-----------+        |               |      +---	--------v-----------+        |
|      | bind to local address  |        |               |      | bind to local address  |        |
|      |    bind() [optional]   |        |               |      |         bind()         |        |
|      +------------|-----------+        |               |      +------------|-----------+        |
|                   |                    |               |                   |                    |
|                   |                    |               |                   |                    |
|                   |                    |               |      +---	--------v-----------+        |
|                   |                    |               |      | waiting to accept conn |        |
|                   |                    |               |      |        listen()        |        |
|      +---	--------v-----------+        |               |      +------------|-----------+        |
|      |   connect to server    |        |             --------------------->|<--------------+    |
|      |       connect()        ----------------------/  |                   |               |    |
|      +------------|-----------+        |               |      +---	--------v-----------+   |    |
|                   |                    |               |      |  accept a connection   |   |    |
|                   |                    |               |      |        accept()        |   |    |
|                   |                    |               |      +------------|-----------+   |    |
|                   |                    |               |                   |               |    |
|                   |                    |               |                   |               |    |
|      +---	--------v-----------+        |               |      +---	--------v-----------+   |    |
|      | communicate with server|        |               |      | communicate with client|   |    |
|      |     write()/read()     <------------------------------->     read()/write()     |   |    |
|      +------------|-----------+        |               |      +------------|-----------+   |    |
|                   |                    |               |                   |               |    |
|                   |                    |               |                   |               |    |
|      +---	--------v-----------+        |               |      +---	--------v-----------+   |    |
|      |  close the connection  |        |               |      |    close the socket    |   |    |
|      |         close()        |        |               |      |        close()         ----+    |
|      +------------------------+        |               |      +------------------------+        |
|                                        |               |                                        |
+----------------------------------------+               +----------------------------------------+
```
